C51 COMPILER V9.60.0.0   UTILITIES                                                         12/12/2022 11:44:48 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE UTILITIES
OBJECT MODULE PLACED IN .\Objects\utilities.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE utilities.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings
                    -\utilities.lst) TABS(2) OBJECT(.\Objects\utilities.obj)

line level    source

   1          #include "headfile.h"
   2          // Âª∂Êó∂
   3          void DelayMS(uint x)
   4          {
   5   1          uchar i;
   6   1          while (x--)
   7   1              for (i = 0; i < 120; i++)
   8   1                  ;
   9   1      }
  10          
  11          void SerialOut595(char ds_pin, char sh_pin, char st_pin, uchar series[], int len)
  12          {
  13   1          /**
  14   1           * @brief Âêë74HC595ËæìÂÖ•seriesÊåáÂÆöÁöÑÊï∞ÊçÆ
  15   1           * @param ds_pin 74HC595ÁöÑ‰∏≤Ë°åÊï∞ÊçÆËæìÂÖ•Á´Ø
  16   1           * @param sh_pin 74HC595ÁöÑ‰∏≤Ë°åËæìÂÖ•Á´ØÁöÑÊó∂Èíü‰ø°Âè∑Á∫ø,ÊØèËΩΩÂÖ•‰∏Ä‰Ωç,‰ΩøÁî®‰∏Ä‰∏™‰∏äÂçáÊ≤øÂ∞ÜË
             -Ø•‰ΩçÁßªÂÖ•ÈîÅÂ≠òÂô®‰∏≠
  17   1           *
  18   1           */
  19   1          // @brief: Âêë74HC595ËæìÂÖ•seriesÊåáÂÆöÁöÑÊï∞ÊçÆ
  20   1          // @param: ds_pin
  21   1          uint i = 0;
  22   1          for (i = 0; i < len; i++)
  23   1          {
  24   2              ds_pin = series[i] & 0x01;
  25   2              sh_pin = 0;
  26   2              Delay100us();
  27   2              sh_pin = 1;
  28   2              sh_pin = 0; // ‰∫ßÁîü‰∏Ä‰∏™‰∏äÂçáÊ≤ø
  29   2          }
  30   1          st_pin = 0;
  31   1          Delay100us();
  32   1          st_pin = 1; // ‰∫ßÁîü‰∏Ä‰∏™‰∏äÂçáÊ≤ø
  33   1          st_pin = 0;
  34   1      }
  35          
  36          void Delay100us() //@12.000MHz
  37          {
  38   1          unsigned char i;
  39   1      
  40   1          _nop_();
  41   1          i = 47;
  42   1          while (--i)
  43   1              ;
  44   1      }
  45          
  46          void Hc595SendByte(uchar dat)
  47          {
  48   1          uchar a;
  49   1      
  50   1          SRCLK = 1;
  51   1          RCLK = 1;
  52   1      
  53   1          for (a = 0; a < 8; a++) // ÂèëÈÄÅ8‰ΩçÊï∞
C51 COMPILER V9.60.0.0   UTILITIES                                                         12/12/2022 11:44:48 PAGE 2   

  54   1          {
  55   2              SER = dat >> 7; // ‰ªéÊúÄÈ´ò‰ΩçÂºÄÂßãÂèëÈÄÅ
  56   2              dat <<= 1;
  57   2      
  58   2              SRCLK = 0; // ÂèëÈÄÅÊó∂Â∫è
  59   2              _nop_();
  60   2              _nop_();
  61   2              SRCLK = 1;
  62   2          }
  63   1          RCLK = 0;
  64   1          _nop_();
  65   1          _nop_();
  66   1          RCLK = 1;
  67   1      }
  68          
  69          uint BinarySeries2Uint(uchar series[], uchar len)
  70          {
  71   1          // TODO implement this
  72   1          return 0;
  73   1      }
*** WARNING C280 IN LINE 69 OF utilities.c: 'series': unreferenced local variable
*** WARNING C280 IN LINE 69 OF utilities.c: 'len': unreferenced local variable


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    165    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      14
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
